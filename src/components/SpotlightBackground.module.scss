$milk-color: rgba(247, 242, 232, 0.85);

@property --alpha {
	syntax: "<number>";
	inherits: true;
	initial-value: 0;
}

@property --mx {
	syntax: "<length>";
	inherits: true;
	initial-value: 50%;
}

@property --my {
	syntax: "<length>";
	inherits: true;
	initial-value: 50%;
}

.wrap {
	--mx: 50%;
	--my: 50%;
	--r: 180px;
	--fade: 80px;
	--alpha: 0;
	--bg-url: none;

	position: relative;
	overflow: hidden;
	width: 100%;
	min-height: 100vh;
	background-color: #f7f2e8;
	transition: --mx 0.25s ease, --my 0.25s ease;
}

.milk,
.photo {
	position: absolute;
	inset: 0;
}

.milk {
	background: $milk-color;
	backdrop-filter: blur(6px);
	pointer-events: none;
}

.photo {
	background-image: var(--bg-url);
	background-size: cover;
	background-position: center;
	pointer-events: none;
	opacity: var(--alpha);

	-webkit-mask-image: radial-gradient(
		circle at var(--mx) var(--my),
		rgba(0, 0, 0, 1) calc(var(--r) - var(--fade)),
		rgba(0, 0, 0, 0) var(--r)
	);
	mask-image: radial-gradient(
		circle at var(--mx) var(--my),
		rgba(0, 0, 0, 1) calc(var(--r) - var(--fade)),
		rgba(0, 0, 0, 0) var(--r)
	);
	-webkit-mask-repeat: no-repeat;
	mask-repeat: no-repeat;
	transition: opacity 0.6s ease;
}

.content {
	position: relative;
	z-index: 1;
	width: 100%;
	min-height: 100vh;
}

@supports not (
	mask-image: radial-gradient(circle at 50% 50%, #000 0, transparent 100%)
) {
	.photo {
		-webkit-mask-image: none;
		mask-image: none;
		clip-path: circle(var(--r) at var(--mx) var(--my));
		opacity: var(--alpha);
		transition: opacity 0.6s ease;
	}
}

@supports not (clip-path: circle(10px at 50% 50%)) {
	@supports not (
		mask-image: radial-gradient(circle at 50% 50%, #000 0, transparent 100%)
	) {
		.photo {
			display: none;
		}
	}
}

@media (prefers-reduced-motion: reduce) {
	.wrap {
		transition: none;
	}
	.photo {
		transition: none;
	}
}
